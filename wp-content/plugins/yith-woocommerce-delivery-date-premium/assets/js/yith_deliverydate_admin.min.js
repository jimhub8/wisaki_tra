jQuery(document).ready(function(e){var a={message:null,overlayCSS:{background:"#fff",opacity:0.6},ignoreIfBlocked:true},c=function(){var f=e(".ywcdd_custom_processing_day_container").find(".yith-plugin-fw-onoff-container span");f.on("click",function(){var g=e(this).prev("input"),h=g.prop("checked");if(h){g.prop("checked",false).attr("value","no").removeClass("onoffchecked")}else{g.prop("checked",true).attr("value","yes").addClass("onoffchecked")}g.change()})};e(document).on("click",".yith-add-new-product-day,.yith-add-new-category-day",function(f){f.preventDefault();if(e(this).hasClass("yith-add-new-product-day")){e("#ywcdd_form_add_product").slideToggle()}else{e("#ywcdd_form_add_category").slideToggle()}});e(document).on("click",".ywcdd_add_range",function(k){k.preventDefault();var h=e(this).parent().parent(),j=h.find(".ywcdd_quantity_row"),g=j.find(".ywcdd_quantity_item").size(),l=h.data("row");l=e(l);var f=l.html().replace(/index/g,g);l.html(f);l.appendTo(j)});e(document).on("click",".ywcdd_custom_processing_method__toggle",function(h){var g=e(h.target),i=g.closest(".ywcdd_list_row"),f=i.find(".ywcdd_list_content");if(i.is(".ywcdd_list_row_close")){f.slideDown(400)}else{f.css({display:"block"});f.slideUp(400)}i.toggleClass("ywcdd_list_row_close")});e(document).on("click",".ywcdd_save",function(h){h.preventDefault();var i=e(this),f=i.parent().parent().parent().parent(),g=f.attr("id");if(g==="ywcdd_form_add_product"){d()}else{if(g==="ywcdd_form_add_category"){b()}}});e(document).on("click",".ywcdd_update_product",function(k){k.preventDefault();var h=e(this),f=h.parent().parent().parent().parent(),g=f.data("item_key"),j=f.find("input").serialize(),i={ywcdd_product_id:g,action:yith_delivery_parmas.actions.update_product_day,ywcdd_args:j,ywcdd_action:"update"};f.block(a);e.ajax({type:"POST",url:yith_delivery_parmas.ajax_url,data:i,dataType:"json",success:function(l){f.unblock()}})});e(document).on("click",".ywcdd_update_category",function(k){k.preventDefault();var g=e(this),f=g.parent().parent().parent().parent(),h=f.data("item_key"),j=f.find("input").serialize(),i={ywcdd_category_id:h,action:yith_delivery_parmas.actions.update_category_day,ywcdd_args:j,ywcdd_action:"update"};f.block(a);e.ajax({type:"POST",url:yith_delivery_parmas.ajax_url,data:i,dataType:"json",success:function(l){f.unblock()}})});e(document).on("click",".ywcdd_delete_category",function(k){k.preventDefault();var g=e(this),f=g.parent().parent().parent().parent(),h=f.parent(),i=f.data("item_key"),j={ywcdd_category_id:i,action:yith_delivery_parmas.actions.delete_category_day};h.block(a);e.ajax({type:"POST",url:yith_delivery_parmas.ajax_url,data:j,dataType:"json",success:function(l){f.remove();h.unblock()}})});e(document).on("click",".ywcdd_delete_product",function(k){k.preventDefault();var h=e(this),f=h.parent().parent().parent().parent(),i=f.parent(),g=f.data("item_key"),j={ywcdd_product_id:g,action:yith_delivery_parmas.actions.delete_product_day};i.block(a);e.ajax({type:"POST",url:yith_delivery_parmas.ajax_url,data:j,dataType:"json",success:function(l){f.remove();i.unblock()}})});e(document).on("click",".ywcdd_delete_range",function(g){g.preventDefault();var f=e(this),h=f.parent();h.remove()});e(document).on("change",'#ywcdd_processing_type input[type="radio"]',function(h){var f=e(this).val(),g={action:yith_delivery_parmas.actions.update_processing_type_option,ywcdd_processing_type:f};e("#ywcdd_processing_type").block(a);e.ajax({type:"POST",url:yith_delivery_parmas.ajax_url,data:g,dataType:"json",success:function(i){e("#ywcdd_processing_type").unblock();e(document).trigger("ywcdd_processing_type_updated")}})});e(document).on("change",'input[id^="ywcdd_enable_rule_product"]',function(i){var g=e(this).val(),j=e(this).parents(".ywcdd_list_row"),f=j.data("item_key"),h={action:yith_delivery_parmas.actions.enable_disable_product_day,ywcdd_product_id:f,ywcdd_product_enable:g};j.block(a);e.ajax({type:"POST",url:yith_delivery_parmas.ajax_url,data:h,dataType:"json",success:function(k){j.unblock()}})});e(document).on("change",'input[id^="ywcdd_enable_rule_category"]',function(i){var f=e(this).val(),j=e(this).parents(".ywcdd_list_row"),g=j.data("item_key"),h={action:yith_delivery_parmas.actions.enable_disable_category_day,ywcdd_category_id:g,ywcdd_category_enable:f};j.block(a);e.ajax({type:"POST",url:yith_delivery_parmas.ajax_url,data:h,dataType:"json",success:function(k){j.unblock()}})});var b=function(){var h=e("#ywcdd_product_cat_search").val(),g=e("#ywcdd_form_add_category").find(".ywcdd_quantity_row"),i=g.find("input").serialize(),f={ywcdd_category_id:h,action:yith_delivery_parmas.actions.update_category_day,ywcdd_args:i,ywcdd_action:"add"};e(document).find("#ywcdd_custom_shipping_category_wrapper").block(a);e.ajax({type:"POST",url:yith_delivery_parmas.ajax_url,data:f,dataType:"json",success:function(j){if(typeof j.template!=="undefined"){var k=e(document).find("#ywcdd_custom_shipping_category_wrapper"),l=e(j.template).find("form");k.html(l);e(document).find(".yith-add-new-category-day").click();c()}e(document).find("#ywcdd_custom_shipping_category_wrapper").unblock()}})},d=function(){var f=e("#ywcdd_product_search").val(),h=e("#ywcdd_form_add_product").find(".ywcdd_quantity_row"),i=h.find("input").serialize(),g={ywcdd_product_id:f,action:yith_delivery_parmas.actions.update_product_day,ywcdd_args:i,ywcdd_action:"add"};e(document).find("#ywcdd_custom_shipping_product_wrapper").block(a);e.ajax({type:"POST",url:yith_delivery_parmas.ajax_url,data:g,dataType:"json",success:function(k){if(typeof k.template!=="undefined"){var j=e(document).find("#ywcdd_custom_shipping_product_wrapper"),l=e(k.template).find("form");j.html(l);e(document).find(".yith-add-new-product-day").click();c()}e(document).find("#ywcdd_custom_shipping_product_wrapper").unblock()}})};e(document).on("ywcdd_processing_type_updated",function(g){var f={action:yith_delivery_parmas.actions.update_processing_method_table,_ajax_processing_method_nonce:e("#_ajax_processing_method_nonce").val()};e.ajax({type:"POST",url:yith_delivery_parmas.ajax_url,data:f,dataType:"json",success:function(h){if(h.rows.length){e("#the-list").html(h.rows)}if(h.column_headers.length){e("thead tr, tfoot tr").html(h.column_headers)}if(h.pagination.bottom.length){e(".tablenav.top .tablenav-pages").html(h.pagination.top)}if(h.pagination.top.length){e(".tablenav.bottom .tablenav-pages").html(h.pagination.bottom)}if(h.views.length){var i=e(h.views).find("li");e(".subsubsub").html(i)}}})})});