jQuery(document).ready(function(e){e("form.variations_form.cart").length&&e(".variations_form").on("show_variation",function(s,a,_){var l=a.variation_id,i={product_id:e(".ywslf_product_id").val(),variation_id:l,action:"check_if_variation_is_in_list"},t=e(this).parent();e(".ywslf_variation_id").val(l),e(".ywsfl_single_message").html(""),t.block({message:null,overlayCSS:{background:"#fff",opacity:.6},ignoreIfBlocked:!0}),e.ajax({type:"POST",url:ywsfl_single_product_args.ajax_url,data:i,dataType:"json",success:function(s){s.in_save_list?(e(".ywsfl_single_remove").removeClass("ywsfl_hide"),e(".ywsfl_single_add").addClass("ywsfl_hide")):(e(".ywsfl_single_add").removeClass("ywsfl_hide"),e(".ywsfl_single_remove").addClass("ywsfl_hide")),t.unblock()}})}).on("reset_data",function(s){e(".ywsfl_single_remove").addClass("ywsfl_hide"),e(".ywsfl_single_add").addClass("ywsfl_hide")}),e(document).on("click",".ywsfl_single_add",function(s){s.preventDefault();e(this);var a=e(".ywslf_product_id").val(),_=e(".ywslf_variation_id").val(),l={product_id:a,variation_id:_,action:ywsfl_single_product_args.actions.add_single_product_save_list};e.ajax({type:"POST",url:ywsfl_single_product_args.ajax_url,data:l,dataType:"json",success:function(s){var l=s.result,i=s.message,t=s.template;if("true"==l){var r="<a href='"+ywsfl_single_product_args.view_list.url+"'>"+ywsfl_single_product_args.view_list.label+"</a>";e(".ywsfl_single_add").addClass("ywsfl_hide"),e("body").trigger("added_to_save_for_later_list",[a,_]),e(".ywsfl_single_message").html(i+" "+r).show()}e("body").trigger("refresh_save_for_later_list",[i,t])}})}).on("click",".ywsfl_single_remove",function(s){s.preventDefault();e(this);var a=e(".ywslf_product_id").val(),_=e(".ywslf_variation_id").val(),l={remove_from_savelist:a,variation_id:_,action:ywsfl_single_product_args.actions.remove_from_savelist};e.ajax({type:"POST",url:ywsfl_single_product_args.ajax_url,data:l,dataType:"json",success:function(s){var l=s.result,i=s.message,t=s.template;"true"==l&&(e(".ywsfl_single_remove").addClass("ywsfl_hide"),e("body").trigger("removed_to_save_for_later_list",[a,_]),e(".ywsfl_single_message").html(i).show()),e("body").trigger("refresh_save_for_later_list",[i,t])}})}),e("body").on("added_to_save_for_later_list",function(s,a,_){s.preventDefault();var l={product_id:a,variation_id:_,action:ywsfl_single_product_args.actions.remove_after_add_list};e.ajax({type:"POST",url:ywsfl_single_product_args.ajax_url,data:l,dataType:"json",success:function(s){var a,_=s.result,l=s.cart_item_key;_&&(a=l,e(document).find(".cart_list").find(".mini_cart_item a:first-child").each(function(){var s=e(this);href=s.attr("href"),-1!=href.search(a)&&(window.location.href=href)}))}})}).on("refresh_save_for_later_list",function(s,a,_){var l,i;l=_,(i=e(document).find("#ywsfl_general_content")).length&&i.replaceWith(l)}),e(document).on("added_to_cart","body",function(s,a,_,l){var i=l.closest("#ywsfl_general_content");l.closest("div.ywsfl-row");0!=i.length&&(e(".ywsfl_single_add").removeClass("ywsfl_hide"),e(".ywsfl_single_remove").addClass("ywsfl_hide"),e(document).find(".ywsfl_single_remove").trigger("click"))})});