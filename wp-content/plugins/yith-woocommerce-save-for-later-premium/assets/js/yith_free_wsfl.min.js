jQuery(document).ready(function(t){var a="undefined"!=typeof wc_add_to_cart_params?wc_add_to_cart_params.cart_redirect_after_add:"",e=window.location.toString();t(document).on("click",".add_saveforlater",function(a){var r=t(this);return a.preventDefault(),function(a){var r=o(a.prop("search"),"save_for_later"),i=o(a.prop("search"),"variation_id"),c=(t(".row-"+r),{save_for_later:r,variation_id:i,action:yith_wsfl_l10n.actions.add_to_savelist_action});if(!s())return void alert(yith_wsfl_l10n.labels.cookie_disabled);t(".shop_table.cart, .updating, .cart_totals").fadeTo("400","0.6").block({message:null,overlayCSS:{opacity:.6}}),t.ajax({type:"POST",url:yith_wsfl_l10n.ajax_url,data:c,dataType:"json",beforeSend:function(){a.siblings(".ajax-loading").css("visibility","visible")},complete:function(){a.siblings(".ajax-loading").css("visibility","hidden")},success:function(a){var o=a.result,s=a.message,c=a.template;"true"==o?(t("#yith-wsfl-messages").css("color","green").html(s),t("#ywsfl_general_content").replaceWith(c),t("body").trigger("added_to_savelist",[r,i])):(t("#yith-wsfl-messages").css("color","red").html(s),t(".widget_shopping_cart, .updating").stop(!0).css("opacity","1").unblock(),t(".shop_table.cart").load(e+" .shop_table.cart:eq(0) > *",function(){t(".shop_table.cart").stop(!0).css("opacity","1").unblock()}),t(".cart_totals").load(e+" .cart_totals:eq(0) > *",function(){t(".cart_totals").stop(!0).css("opacity","1").unblock()}))}})}(r),!1});var o=function(t,a){var e,o,s=decodeURIComponent(t.substring(1)).split("&");for(o=0;o<s.length;o++)if((e=s[o].split("="))[0]===a)return void 0===e[1]||e[1]};function s(){if(navigator.cookieEnabled)return!0;document.cookie="cookietest=1";var t=-1!=document.cookie.indexOf("cookietest=");return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}t(document).on("added_to_savelist","body",function(a,o,s){a.preventDefault();var r={product_id:o,variation_id:s,action:"remove_to_cart_after_save_list"};t.ajax({type:"POST",url:yith_wsfl_l10n.ajax_url,data:r,dataType:"json",success:function(a){a.result&&(t(".widget_shopping_cart, .updating").stop(!0).css("opacity","1").unblock(),t(".shop_table.cart").load(e+" .shop_table.cart:eq(0) > *",function(){t(".shop_table.cart").stop(!0).css("opacity","1").unblock(),t("body").trigger("cart_page_refreshed")}),t(".cart_totals").load(e+" .cart_totals:eq(0) > *",function(){t(".cart_totals").stop(!0).css("opacity","1").unblock()}))}})}),t(document).on("adding_to_cart","body",function(t,a,e){var o=a.closest("#ywsfl_general_content"),s=a.closest("div.row");0!=o.length&&(e.remove_to_save_list_after_add_to_cart=s.data("row-id"),e.variation_id=s.data("row-variation-id"),wc_add_to_cart_params.cart_redirect_after_add="yes")}),t(document).on("added_to_cart","body",function(e,o,s,r){wc_add_to_cart_params.cart_redirect_after_add=a;var i=t("#ywsfl_general_content"),c=i.data("num-elements");if(c>0){var n=r.closest("div.row");t("#ywsfl_title_save_list h3").html("Saved for later ( "+(c-1)+" Product )");n.remove(),c-1==0&&i.hide()}}),t(document).on("click",".remove_from_savelist",function(a){var e=t(this);return a.preventDefault(),function(a){var e=a.data("product-id"),o=a.data("variation-id"),r=(t(".row-"+o),{remove_from_savelist:e,variation_id:o,action:"remove_from_savelist"});if(t("#ywsfl_general_content").fadeTo("400","0.6").block({message:null,overlayCSS:{opacity:.6}}),!s())return void alert(yith_wsfl_l10n.labels.cookie_disabled);t.ajax({type:"POST",url:yith_wsfl_l10n.ajax_url,data:r,dataType:"json",success:function(a){var e=a.result,o=a.message,s=a.template;"true"==e?(t("#yith-wsfl-messages").css("color","green").html(o),t("#ywsfl_general_content").stop(!0).css("opacity","1").unblock(),t("#ywsfl_general_content").replaceWith(s)):t("#yith-wsfl-messages").css("color","red").html(o)}}),t("body").trigger("removed_from_savelist")}(e),!1})});